# H5ç«¯å°ç¨‹åºé€šä¿¡æ¥å£ - å®ç°æ€»ç»“

## âœ… å®ç°å®Œæˆ

**æ–‡ä»¶**ï¼š`frontend/public/miniprogram/video-interview-host.html`

**çŠ¶æ€**ï¼šâœ… å·²å®Œæˆå®ç°

---

## ğŸ“‹ å®ç°çš„åŠŸèƒ½

### 1ï¸âƒ£ **åˆ›å»ºæˆ¿é—´æˆåŠŸåå‘é€æ¶ˆæ¯**

```javascript
// ç¬¬ 1464-1465 è¡Œ
notifyMiniProgram(roomId);
```

**æ¶ˆæ¯å†…å®¹**ï¼š
```javascript
{
  type: 'roomCreated',
  roomId: 'room_1234567890_abc123'
}
```

---

### 2ï¸âƒ£ **ç‚¹å‡»"+"å·é‚€è¯·æ—¶å‘é€æ¶ˆæ¯**

```javascript
// ç¬¬ 2196-2226 è¡Œ
if (IS_IN_MINIPROGRAM) {
  const inviteLink = `${baseUrl}video-interview-guest.html?roomId=${roomId}`;
  
  wx.miniProgram.postMessage({
    data: {
      type: 'triggerShare',
      roomId: roomId,
      inviteLink: inviteLink,
      shareTitle: 'é‚€è¯·ä½ å‚åŠ è§†é¢‘é¢è¯•',
      shareDesc: `é¢è¯•é—´å·ï¼š${roomId.replace(/^room_/, 'AD-').split('_')[0]}`
    }
  });
  
  alert('è¯·ç‚¹å‡»å³ä¸Šè§’"..."æŒ‰é’®ï¼Œé€‰æ‹©"è½¬å‘"åˆ†äº«ç»™è®¿å®¢');
}
```

**æ¶ˆæ¯å†…å®¹**ï¼š
```javascript
{
  type: 'triggerShare',
  roomId: 'room_1234567890_abc123',
  inviteLink: 'https://crm.andejiazheng.com/miniprogram/video-interview-guest.html?roomId=room_1234567890_abc123',
  shareTitle: 'é‚€è¯·ä½ å‚åŠ è§†é¢‘é¢è¯•',
  shareDesc: 'é¢è¯•é—´å·ï¼šAD-1234567890'
}
```

---

### 3ï¸âƒ£ **é€šçŸ¥å°ç¨‹åºå‡½æ•°**

```javascript
// ç¬¬ 2285-2304 è¡Œ
function notifyMiniProgram(roomId) {
  if (typeof wx !== 'undefined' && wx.miniProgram) {
    wx.miniProgram.postMessage({
      data: {
        type: 'roomCreated',
        roomId: roomId
      }
    });
    console.log('âœ… å·²å‘é€ roomCreated æ¶ˆæ¯ç»™å°ç¨‹åº');
  }
}
```

---

## ğŸ¯ å…³é”®ç‚¹

1. âœ… **åˆ›å»ºæˆ¿é—´æˆåŠŸå**è‡ªåŠ¨å‘é€ `roomCreated` æ¶ˆæ¯
2. âœ… **ç‚¹å‡»"+"å·æ—¶**å‘é€ `triggerShare` æ¶ˆæ¯
3. âœ… **è®¿å®¢é“¾æ¥**æŒ‡å‘ `video-interview-guest.html`
4. âœ… **ç¯å¢ƒæ£€æµ‹**ï¼šè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦åœ¨å°ç¨‹åºç¯å¢ƒ
5. âœ… **æ—¥å¿—è¾“å‡º**ï¼šè¯¦ç»†çš„æ§åˆ¶å°æ—¥å¿—ï¼Œæ–¹ä¾¿è°ƒè¯•
6. âœ… **ç”¨æˆ·æç¤º**ï¼šæç¤ºç”¨æˆ·ç‚¹å‡»å³ä¸Šè§’åˆ†äº«

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### åœ¨å°ç¨‹åºä¸­æµ‹è¯•ï¼š

1. æ‰“å¼€å°ç¨‹åºçš„è§†é¢‘é¢è¯•ä¸»æŒäººé¡µé¢
2. æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·æ§åˆ¶å°
3. **åˆ›å»ºæˆ¿é—´**ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼š
   ```
   âœ… å·²å‘é€ roomCreated æ¶ˆæ¯ç»™å°ç¨‹åº
   ```
4. **ç‚¹å‡»"+"å·**ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºï¼š
   ```
   âœ… å·²å‘é€ triggerShare æ¶ˆæ¯ç»™å°ç¨‹åº
   ```
5. æŸ¥çœ‹å°ç¨‹åºç«¯æ˜¯å¦æ”¶åˆ°æ¶ˆæ¯

---

## ğŸ“¦ ä¿®æ”¹çš„ä»£ç è¡Œæ•°

- **ç¬¬ 1464-1465 è¡Œ**ï¼šæ·»åŠ  `notifyMiniProgram(roomId)` è°ƒç”¨
- **ç¬¬ 2196-2226 è¡Œ**ï¼šä¿®æ”¹ `showInviteModal()` å‡½æ•°
- **ç¬¬ 2285-2304 è¡Œ**ï¼šæ·»åŠ  `notifyMiniProgram()` å‡½æ•°

**æ€»è®¡**ï¼šçº¦ 50 è¡Œä»£ç 

---

## ğŸš€ ä¸‹ä¸€æ­¥

1. âœ… H5ç«¯å·²å®Œæˆ
2. â³ å°ç¨‹åºç«¯éœ€è¦æ¥æ”¶å¹¶å¤„ç†è¿™äº›æ¶ˆæ¯
3. â³ æµ‹è¯•å®Œæ•´çš„åˆ†äº«æµç¨‹

---

## ğŸ“ å¤‡æ³¨

- ä»£ç å·²æ·»åŠ è¯¦ç»†æ³¨é‡Šå’Œæ—¥å¿—
- å·²å¤„ç†å°ç¨‹åºç¯å¢ƒæ£€æµ‹
- å·²å¤„ç†éå°ç¨‹åºç¯å¢ƒçš„é™çº§æ–¹æ¡ˆ
- è®¿å®¢é“¾æ¥æ ¼å¼æ­£ç¡®

---

**å®ç°å®Œæˆæ—¶é—´**ï¼š2025-11-19
**å®ç°äººå‘˜**ï¼šAI Assistant
**æ–‡ä»¶è·¯å¾„**ï¼š`frontend/public/miniprogram/video-interview-host.html`

