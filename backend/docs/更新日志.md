# API 更新日志

## 2024-12-30

### 🏅 新增：月嫂档位功能

#### 后端更新
- ✅ 在 Resume Schema 中添加 `maternityNurseLevel` 字段
- ✅ 在创建和更新 DTO 中添加验证规则
- ✅ 在所有小程序API响应中包含月嫂档位字段

#### 前端更新
- ✅ 在创建/编辑简历页面添加月嫂档位选择器
- ✅ 在简历列表页面添加月嫂档位列显示
- ✅ 在简历详情页面添加月嫂档位显示

#### 档位选项
- `junior` - 初级月嫂
- `silver` - 银牌月嫂
- `gold` - 金牌月嫂
- `platinum` - 铂金月嫂
- `diamond` - 钻石月嫂
- `crown` - 皇冠月嫂

#### 使用说明
- 月嫂档位字段为可选字段
- 只有当工种选择为"月嫂"(yuexin)时才显示档位选择器
- 在列表和详情页面都能清晰显示档位信息
- 小程序端也能正常获取和显示档位信息

### 📝 文档更新
- ✅ 更新《小程序简历创建API使用说明》，添加所有新增字段
- ✅ 创建《小程序简历查询更新API使用说明》
- ✅ 创建《API文档索引》(README.md)
- ✅ 创建《更新日志》

### 新增字段列表

#### 个人信息
- `wechat` - 微信号
- `currentAddress` - 现居地址
- `hukouAddress` - 户口地址
- `birthDate` - 出生日期
- `idNumber` - 身份证号
- `ethnicity` - 民族
- `zodiac` - 生肖
- `zodiacSign` - 星座
- `maritalStatus` - 婚姻状况
- `religion` - 宗教信仰

#### 联系人信息
- `emergencyContactName` - 紧急联系人姓名
- `emergencyContactPhone` - 紧急联系人电话

#### 工作信息
- `maternityNurseLevel` - 月嫂档位（仅月嫂工种）
- `orderStatus` - 接单状态

#### 培训信息
- `learningIntention` - 培训意向
- `currentStage` - 当前阶段

#### 体检信息
- `medicalExamDate` - 体检日期

## 历史更新

### 2024-11-XX

#### 文件上传功能
- ✅ 支持身份证照片上传
- ✅ 支持个人照片上传
- ✅ 支持证书照片上传
- ✅ 支持体检报告上传
- ✅ 支持自我介绍视频上传

#### 照片删除功能
- ✅ 修复小程序删除照片问题
- ✅ 支持批量删除照片

### 2024-10-XX

#### 基础功能
- ✅ 简历创建API
- ✅ 简历查询API
- ✅ 简历更新API
- ✅ 幂等性支持
- ✅ 数据验证

## 即将推出

### 计划中的功能
- [ ] 简历搜索功能增强
- [ ] 简历导出功能
- [ ] 批量操作功能
- [ ] 简历审核流程
- [ ] 简历评分系统

## 技术改进

### 性能优化
- 数据库查询优化
- API响应时间优化
- 文件上传性能优化

### 安全性
- 数据验证增强
- 权限控制完善
- 敏感信息保护

## 兼容性说明

### 向后兼容
- 所有新增字段都是可选的，不影响现有功能
- 旧版本小程序可以继续正常使用
- 新字段在旧数据中会显示为空或默认值

### 升级建议
- 建议小程序端更新到最新版本以支持新功能
- 建议在测试环境充分测试后再部署到生产环境

## 联系方式

如有问题或建议，请联系技术团队。

