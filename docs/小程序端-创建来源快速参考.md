# å°ç¨‹åºç«¯ - åˆ›å»ºæ¥æºå¿«é€Ÿå‚è€ƒ

**ç‰ˆæœ¬**: v1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025-10-17  
**ç›®æ ‡å—ä¼—**: å°ç¨‹åºå‰ç«¯å¼€å‘è€…

---

## ğŸ¯ æ ¸å¿ƒè¦ç‚¹ï¼ˆå¿…è¯»ï¼‰

### ä»€ä¹ˆæ˜¯åˆ›å»ºæ¥æºï¼Ÿ

**åˆ›å»ºæ¥æº** = è¿™æ¡ç®€å†æ˜¯è°åˆ›å»ºçš„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  åˆ›å»ºæ¥æºåˆ†ç±»                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è‡ªåŠ©æ³¨å†Œ â† ä½ é€šè¿‡å°ç¨‹åºåˆ›å»ºï¼ˆæœ¬æ¥å£ï¼‰                â”‚
â”‚ å‘˜å·¥åˆ›å»º â† é”€å”®/HRé€šè¿‡CRMåˆ›å»ºï¼ˆä¸æ¶‰åŠå°ç¨‹åºï¼‰       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å°ç¨‹åºç«¯çš„èŒè´£

âœ… **ä½ éœ€è¦åšçš„**:
1. è°ƒç”¨è‡ªåŠ©æ³¨å†Œæ¥å£
2. æä¾›åŸºæœ¬ä¿¡æ¯ï¼ˆå§“åã€æ‰‹æœºå·ã€å¹´é¾„ã€å·¥ç§ç­‰ï¼‰
3. åç«¯ä¼šè‡ªåŠ¨æ ‡è®°ä¸º"è‡ªåŠ©æ³¨å†Œ"

âŒ **ä½ ä¸éœ€è¦åšçš„**:
1. ä¸è¦ä¼ é€’ `userId` å­—æ®µ
2. ä¸è¦ä¼ é€’ `createdBy` å­—æ®µ
3. ä¸è¦ä¼ é€’ `leadSource` å­—æ®µ
4. ä¸è¦å°è¯•æ‰‹åŠ¨è®¾ç½®åˆ›å»ºæ¥æº

---

## ğŸ“ è¯·æ±‚ç¤ºä¾‹

### âœ… æ­£ç¡®åšæ³•

```javascript
// è°ƒç”¨è‡ªåŠ©æ³¨å†Œæ¥å£
wx.request({
  url: 'https://crm.andejiazheng.com/api/resumes/miniprogram/self-register',
  method: 'POST',
  header: {
    'Content-Type': 'application/json'
  },
  data: {
    // âœ… åªéœ€è¦æä¾›è¿™äº›å­—æ®µ
    name: 'å¼ ä¸‰',
    phone: '13900000000',
    age: 25,
    gender: 'female',
    jobType: 'yuer'
  },
  success: (res) => {
    if (res.data.success) {
      console.log('æ³¨å†ŒæˆåŠŸï¼');
      console.log('ç®€å†ID:', res.data.data.id);
      // åç«¯å·²è‡ªåŠ¨è®¾ç½®ï¼š
      // - userId: null (è¡¨ç¤ºè‡ªåŠ©æ³¨å†Œ)
      // - leadSource: 'self-registration'
      // - status: 'draft'
    }
  }
});
```

### âŒ é”™è¯¯åšæ³•ï¼ˆä¸è¦è¿™æ ·åšï¼‰

```javascript
// âŒ é”™è¯¯ï¼šå°è¯•ä¼ é€’åˆ›å»ºæ¥æºç›¸å…³å­—æ®µ
wx.request({
  url: 'https://crm.andejiazheng.com/api/resumes/miniprogram/self-register',
  method: 'POST',
  data: {
    name: 'å¼ ä¸‰',
    phone: '13900000000',
    age: 25,
    gender: 'female',
    jobType: 'yuer',
    
    // âŒ è¿™äº›å­—æ®µä¼šè¢«åç«¯å¿½ç•¥
    userId: 'some-user-id',
    createdBy: 'self-registration',
    leadSource: 'self-registration'
  }
});
```

---

## ğŸ“Š åç«¯è‡ªåŠ¨å¤„ç†

### è¯·æ±‚æ•°æ®
```javascript
{
  name: 'å¼ ä¸‰',
  phone: '13900000000',
  age: 25,
  gender: 'female',
  jobType: 'yuer'
}
```

### åç«¯ä¿å­˜åˆ°æ•°æ®åº“
```javascript
{
  _id: ObjectId('...'),
  name: 'å¼ ä¸‰',
  phone: '13900000000',
  age: 25,
  gender: 'female',
  jobType: 'yuer',
  
  // â­ åç«¯è‡ªåŠ¨è®¾ç½®
  userId: null,                    // è¡¨ç¤ºè‡ªåŠ©æ³¨å†Œ
  leadSource: 'self-registration', // çº¿ç´¢æ¥æº
  status: 'draft',                 // ç®€å†çŠ¶æ€
  createdAt: '2025-10-17T...',
  updatedAt: '2025-10-17T...'
}
```

---

## ğŸ” CRMç«¯å¦‚ä½•æ˜¾ç¤º

### ç®€å†åˆ—è¡¨

| åˆ›å»ºæ¥æº | é¢œè‰² | è¯´æ˜ |
|---------|------|------|
| è‡ªåŠ©æ³¨å†Œ | ğŸ”µ è“è‰² | userId = null |
| å‘˜å·¥åˆ›å»º | ğŸŸ  æ©™è‰² | userId = ObjectId |

**ä½ çš„ç®€å†ä¼šæ˜¾ç¤ºä¸º**: ğŸ”µ **è‡ªåŠ©æ³¨å†Œ**ï¼ˆè“è‰²æ ‡ç­¾ï¼‰

### ç®€å†è¯¦æƒ…

åœ¨"å·¥ä½œä¿¡æ¯"å¡ç‰‡ä¸­æ˜¾ç¤º"åˆ›å»ºæ¥æº"ï¼š
- è‡ªåŠ©æ³¨å†Œ â†’ æ˜¾ç¤º"è‡ªåŠ©æ³¨å†Œ"ï¼ˆè“è‰²ï¼‰
- å‘˜å·¥åˆ›å»º â†’ æ˜¾ç¤º"å‘˜å·¥åˆ›å»º"ï¼ˆæ©™è‰²ï¼‰

---

## âš ï¸ å¸¸è§é”™è¯¯

### é”™è¯¯1ï¼šå°è¯•ä¼ é€’ userId

```javascript
// âŒ é”™è¯¯
data: {
  name: 'å¼ ä¸‰',
  userId: 'xxx'  // âŒ ä¸è¦è¿™æ ·åš
}

// âœ… æ­£ç¡®
data: {
  name: 'å¼ ä¸‰'   // åªæä¾›åŸºæœ¬ä¿¡æ¯
}
```

**åæœ**: åç«¯ä¼šå¿½ç•¥ä½ ä¼ é€’çš„ userIdï¼Œè‡ªåŠ¨è®¾ç½®ä¸º null

### é”™è¯¯2ï¼šå°è¯•ä¼ é€’ leadSource

```javascript
// âŒ é”™è¯¯
data: {
  name: 'å¼ ä¸‰',
  leadSource: 'self-registration'  // âŒ ä¸è¦è¿™æ ·åš
}

// âœ… æ­£ç¡®
data: {
  name: 'å¼ ä¸‰'  // åªæä¾›åŸºæœ¬ä¿¡æ¯
}
```

**åæœ**: åç«¯ä¼šå¿½ç•¥ä½ ä¼ é€’çš„ leadSourceï¼Œè‡ªåŠ¨è®¾ç½®ä¸º 'self-registration'

### é”™è¯¯3ï¼šå°è¯•ä¼ é€’ createdBy

```javascript
// âŒ é”™è¯¯
data: {
  name: 'å¼ ä¸‰',
  createdBy: 'self-registration'  // âŒ ä¸è¦è¿™æ ·åš
}

// âœ… æ­£ç¡®
data: {
  name: 'å¼ ä¸‰'  // åªæä¾›åŸºæœ¬ä¿¡æ¯
}
```

**åæœ**: åç«¯ä¼šå¿½ç•¥ä½ ä¼ é€’çš„ createdBy å­—æ®µ

---

## ğŸ” å®‰å…¨æ€§è¯´æ˜

### ä¸ºä»€ä¹ˆåç«¯è¦å¼ºåˆ¶è®¾ç½®åˆ›å»ºæ¥æºï¼Ÿ

1. **é˜²æ­¢ç¯¡æ”¹**: å‰ç«¯å¯ä»¥è¢«ä¿®æ”¹ï¼Œä¸èƒ½ä¿¡ä»»
2. **æ•°æ®å‡†ç¡®**: åç«¯æ˜¯æ•°æ®çš„æœ€åä¸€é“é˜²çº¿
3. **æƒé™æ§åˆ¶**: ç¡®ä¿åªæœ‰æˆæƒçš„æ“ä½œæ‰èƒ½æ”¹å˜åˆ›å»ºæ¥æº

### åç«¯é˜²æŠ¤æªæ–½

âœ… è‡ªåŠ¨å¼ºåˆ¶è®¾ç½® `userId: null`  
âœ… è‡ªåŠ¨å¼ºåˆ¶è®¾ç½® `leadSource: 'self-registration'`  
âœ… è‡ªåŠ¨å¼ºåˆ¶è®¾ç½® `status: 'draft'`  
âœ… åˆ é™¤å‰ç«¯ä¼ é€’çš„æ•æ„Ÿå­—æ®µ  
âœ… è®°å½•å¼‚å¸¸è¡Œä¸ºæ—¥å¿—  

---

## ğŸ“‹ å®Œæ•´æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å°ç¨‹åºç«¯æ”¶é›†ä¿¡æ¯                                  â”‚
â”‚    name, phone, age, gender, jobType                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. è°ƒç”¨è‡ªåŠ©æ³¨å†Œæ¥å£                                  â”‚
â”‚    POST /api/resumes/miniprogram/self-register      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. åç«¯å¤„ç†                                          â”‚
â”‚    âœ… éªŒè¯æ•°æ®                                       â”‚
â”‚    âœ… æ£€æŸ¥é‡å¤                                       â”‚
â”‚    âœ… å¼ºåˆ¶è®¾ç½® userId: null                         â”‚
â”‚    âœ… å¼ºåˆ¶è®¾ç½® leadSource: 'self-registration'      â”‚
â”‚    âœ… å¼ºåˆ¶è®¾ç½® status: 'draft'                      â”‚
â”‚    âœ… ä¿å­˜åˆ°æ•°æ®åº“                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. è¿”å›ç»“æœ                                          â”‚
â”‚    { success: true, data: { id: '...' } }           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. CRMç«¯æ˜¾ç¤º                                         â”‚
â”‚    ğŸ”µ è‡ªåŠ©æ³¨å†Œï¼ˆè“è‰²æ ‡ç­¾ï¼‰                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ€»ç»“

### âœ… ä½ éœ€è¦çŸ¥é“çš„

1. **åˆ›å»ºæ¥æº** = è°åˆ›å»ºçš„ï¼ˆè‡ªåŠ© vs å‘˜å·¥ï¼‰
2. **ä½ çš„èŒè´£** = æä¾›åŸºæœ¬ä¿¡æ¯
3. **åç«¯èŒè´£** = è‡ªåŠ¨æ ‡è®°ä¸ºè‡ªåŠ©æ³¨å†Œ
4. **CRMæ˜¾ç¤º** = è“è‰²æ ‡ç­¾"è‡ªåŠ©æ³¨å†Œ"

### âœ… ä½ éœ€è¦åšçš„

1. è°ƒç”¨è‡ªåŠ©æ³¨å†Œæ¥å£
2. æä¾›å¿…è¦çš„å­—æ®µï¼ˆname, phone, age, gender, jobTypeï¼‰
3. å¤„ç†å“åº”å’Œé”™è¯¯

### âŒ ä½ ä¸éœ€è¦åšçš„

1. ä¸è¦ä¼ é€’ userId
2. ä¸è¦ä¼ é€’ createdBy
3. ä¸è¦ä¼ é€’ leadSource
4. ä¸è¦å°è¯•æ‰‹åŠ¨è®¾ç½®åˆ›å»ºæ¥æº

---

## ğŸ“ å¸¸è§é—®é¢˜

**Q: æˆ‘éœ€è¦åœ¨è¯·æ±‚ä¸­ä¼ é€’åˆ›å»ºæ¥æºå—ï¼Ÿ**  
A: ä¸éœ€è¦ï¼åç«¯ä¼šè‡ªåŠ¨å¤„ç†ã€‚

**Q: å¦‚æœæˆ‘ä¼ é€’äº† userId ä¼šæ€æ ·ï¼Ÿ**  
A: åç«¯ä¼šå¿½ç•¥å®ƒï¼Œè‡ªåŠ¨è®¾ç½®ä¸º nullã€‚

**Q: æˆ‘çš„ç®€å†åœ¨CRMä¸­å¦‚ä½•æ˜¾ç¤ºï¼Ÿ**  
A: æ˜¾ç¤ºä¸ºè“è‰²æ ‡ç­¾"è‡ªåŠ©æ³¨å†Œ"ã€‚

**Q: ä¸ºä»€ä¹ˆåç«¯è¦å¼ºåˆ¶è®¾ç½®ï¼Ÿ**  
A: é˜²æ­¢å‰ç«¯ç¯¡æ”¹ï¼Œç¡®ä¿æ•°æ®å‡†ç¡®æ€§å’Œå®‰å…¨æ€§ã€‚

---

**ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-10-17  
**çŠ¶æ€**: âœ… ç”Ÿäº§ç¯å¢ƒå·²éƒ¨ç½²

