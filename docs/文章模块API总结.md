# 文章模块API总结

## 📋 概述

文章模块已完成开发并集成到小程序API文档中，提供了完整的文章内容管理功能。

---

## 🎯 核心功能

### 1. 获取文章列表
- **接口**: `GET /api/articles`
- **功能**: 获取已发布的文章列表，支持分页和搜索
- **认证**: 无需登录（建议后端添加小程序专用接口）
- **参数**:
  - `status`: 状态筛选（`draft`/`published`）
  - `keyword`: 搜索关键词
  - `page`: 页码
  - `pageSize`: 每页数量

### 2. 获取文章详情
- **接口**: `GET /api/articles/:id`
- **功能**: 获取单篇文章的完整内容，包括正文和图片
- **认证**: 无需登录（建议后端添加小程序专用接口）
- **返回**: 包含标题、作者、来源、正文（HTML和原始格式）、图片列表等

---

## 📱 小程序调用方式

### 一句话总结

**小程序可以通过 `GET /api/articles?status=published` 获取文章列表，通过 `GET /api/articles/:id` 获取文章详情，用于展示育儿知识、家政技巧等内容。**

### 快速开始

```javascript
// 1. 获取文章列表
const articles = await wx.request({
  url: 'https://crm.andejiazheng.com/api/articles',
  method: 'GET',
  data: { status: 'published', page: 1, pageSize: 10 }
});

// 2. 获取文章详情
const article = await wx.request({
  url: 'https://crm.andejiazheng.com/api/articles/6967700ebaf1a7bfe723665c',
  method: 'GET'
});
```

---

## 📚 完整文档位置

详细的API文档、请求参数、响应格式、完整代码示例已添加到：

**文件**: `backend/docs/小程序API完整文档.md`

**章节**: 
- 📰 文章内容
  - 获取文章列表
  - 获取文章详情

**文档版本**: v1.5.0

---

## ✨ 特性

1. **富文本支持**: 支持富文本编辑器格式（加粗、斜体、字号、颜色等）
2. **图片管理**: 支持多图片上传和展示
3. **搜索功能**: 支持标题、正文、作者、来源的全文搜索
4. **分页加载**: 支持分页和上拉加载更多
5. **状态管理**: 区分草稿和已发布状态
6. **智能排版**: 自动整理空行和去除尾空格

---

## 🔧 后续优化建议

1. **添加小程序专用接口**: 创建 `/api/articles/miniprogram/list` 和 `/api/articles/miniprogram/:id`，无需认证
2. **添加缓存机制**: 对文章列表和详情进行缓存，提升加载速度
3. **添加阅读统计**: 记录文章阅读次数和用户行为
4. **添加分类标签**: 支持文章分类和标签筛选
5. **添加收藏功能**: 允许用户收藏喜欢的文章

---

## 📞 技术支持

如有问题或建议，请联系技术团队。

**最后更新**: 2026-01-15
**维护团队**: 安得家政技术团队

