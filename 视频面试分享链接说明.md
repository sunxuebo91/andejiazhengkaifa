# 视频面试分享链接说明

## ✅ 正确的分享链接格式

### 1. PC端链接（CRM后台生成）
```
https://crm.andejiazheng.com/interview/join/{roomId}?name=视频面试
```
**示例：**
```
https://crm.andejiazheng.com/interview/join/room_1731654321000_abc123?name=视频面试
```

### 2. 移动端链接（CRM后台生成 - 推荐用于微信分享）
```
https://crm.andejiazheng.com/miniprogram/video-interview-guest.html?roomId={roomId}
```
**示例：**
```
https://crm.andejiazheng.com/miniprogram/video-interview-guest.html?roomId=room_1731654321000_abc123
```

---

## ❌ 错误的链接格式

### 错误示例1：缺少 roomId 参数
```
❌ https://crm.andejiazheng.com/miniprogram/video-interview-guest-room.html?role=customer
```
**问题：** 缺少 `roomId` 参数，访客无法加入房间

### 错误示例2：直接访问内部页面
```
❌ https://crm.andejiazheng.com/miniprogram/video-interview-guest-room.html
```
**问题：** `video-interview-guest-room.html` 是内部页面，不应该直接分享

---

## 📋 如何获取正确的分享链接

### 方法1：从CRM后台复制（推荐）

1. 登录CRM后台
2. 进入"视频面试"页面
3. 点击"创建面试间"
4. 创建成功后，点击"邀请他人"按钮
5. 在弹窗中选择：
   - **PC端链接**：适用于电脑浏览器
   - **移动端链接**：适用于手机浏览器（包括微信）
6. 点击"复制链接"按钮

### 方法2：从主持人H5页面复制

1. 主持人创建面试间后
2. 点击页面上的"邀请"按钮（+ 图标）
3. 在弹窗中复制邀请链接
4. 该链接格式为：`https://crm.andejiazheng.com/miniprogram/video-interview-guest.html?roomId=xxx`

---

## 🔍 链接验证方法

### 检查链接是否正确：

1. **必须包含 `roomId` 参数**
   ```
   ✅ ?roomId=room_1731654321000_abc123
   ❌ ?role=customer （缺少roomId）
   ```

2. **roomId 格式应该是 `room_` 开头**
   ```
   ✅ roomId=room_1731654321000_abc123
   ❌ roomId=customer
   ```

3. **访客入口页面应该是以下之一：**
   ```
   ✅ /interview/join/{roomId}
   ✅ /miniprogram/video-interview-guest.html?roomId={roomId}
   ❌ /miniprogram/video-interview-guest-room.html （这是内部页面）
   ```

---

## 🚀 访客访问流程

### 正确流程：

1. 访客点击分享链接
2. 打开 `video-interview-guest.html` 页面（入口页面）
3. 页面自动检测到 `roomId` 参数
4. 自动跳转到 `video-interview-guest-room.html?roomId=xxx`（房间页面）
5. 显示身份选择浮窗
6. 访客选择身份（客户/阿姨）并输入姓名
7. 点击"进入面试间"
8. 成功加入视频面试

### 错误流程（缺少roomId）：

1. 访客点击错误链接（缺少roomId）
2. 打开 `video-interview-guest-room.html?role=customer`
3. ❌ 页面检测到缺少 `roomId` 参数
4. ❌ 显示错误提示："缺少房间号参数"
5. ❌ 无法加入房间

---

## 🛠️ 问题排查

### 如果访客看到"缺少房间号参数"错误：

1. **检查分享的链接是否包含 `roomId` 参数**
   - 在浏览器地址栏查看完整URL
   - 确认URL中有 `?roomId=room_xxx` 部分

2. **重新从CRM后台复制正确的链接**
   - 不要从浏览器地址栏直接复制
   - 使用CRM后台的"邀请他人"功能复制

3. **确认房间是否还存在**
   - 主持人是否已经解散房间
   - 房间是否已经超时

---

## 📱 微信分享注意事项

1. **推荐使用移动端链接**
   ```
   https://crm.andejiazheng.com/miniprogram/video-interview-guest.html?roomId={roomId}
   ```

2. **不要直接分享房间页面**
   - ❌ 不要分享 `video-interview-guest-room.html`
   - ✅ 应该分享 `video-interview-guest.html`

3. **微信中打开链接后**
   - 页面会自动跳转到房间
   - 显示身份选择浮窗
   - 选择身份后即可加入

---

## 📞 技术支持

如果遇到问题，请提供以下信息：

1. 完整的分享链接URL
2. 错误截图
3. 浏览器类型（Chrome/Safari/微信等）
4. 设备类型（PC/手机）

